<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PrintsByPug – Print Pricing Calculator</title>
  <style>
    :root {
      --bg: #0b0f1a;
      --panel: #111827;
      --panel-soft: #0f172a;
      --accent: #f59e0b; /* PrintsByPug gold */
      --accent-soft: rgba(245, 158, 11, 0.15);
      --text: #e5e7eb;
      --muted: #9ca3af;
      --success: #22c55e;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: radial-gradient(circle at top, #111827, var(--bg));
      color: var(--text);
      padding: 2rem;
    }

    header {
      max-width: 1200px;
      margin: 0 auto 2rem auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    header h1 {
      font-size: 1.75rem;
      margin: 0;
    }

    header span {
      color: var(--accent);
      font-weight: 600;
    }

    .container {
      max-width: 1200px;
      margin: auto;
      display: grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 2rem;
    }

    .card {
      background: linear-gradient(180deg, var(--panel), var(--panel-soft));
      border-radius: 18px;
      padding: 1.75rem;
      box-shadow: 0 25px 60px rgba(0,0,0,.5);
    }

    .card h2 {
      margin-top: 0;
      font-size: 1.25rem;
      margin-bottom: 1rem;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem 1.25rem;
    }

    label {
      font-size: .8rem;
      color: var(--muted);
    }

    input {
      width: 100%;
      margin-top: .35rem;
      padding: .65rem .75rem;
      border-radius: 10px;
      border: 1px solid #020617;
      background: #020617;
      color: var(--text);
      outline: none;
    }

    input:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 2px var(--accent-soft);
    }

    .estimate-row {
      display: flex;
      justify-content: space-between;
      padding: .5rem 0;
      border-bottom: 1px dashed rgba(255,255,255,.08);
      font-size: .95rem;
    }

    .estimate-row:last-child { border-bottom: none; }

    .estimate-row span:last-child {
      font-weight: 600;
    }

    .final {
      margin-top: 1.75rem;
      padding: 1.25rem;
      border-radius: 14px;
      background: linear-gradient(135deg, var(--accent-soft), rgba(34,197,94,.15));
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .final span {
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--success);
    }

    footer {
      max-width: 1200px;
      margin: 2rem auto 0 auto;
      text-align: center;
      color: var(--muted);
      font-size: .8rem;
    }

    @media (max-width: 900px) {
      .container {
        grid-template-columns: 1fr;
      }
    }
    .preset {
      background: #020617;
      border: 1px solid rgba(255,255,255,.1);
      color: var(--text);
      padding: .5rem .9rem;
      border-radius: 999px;
      cursor: pointer;
      font-size: .8rem;
    }

    .preset:hover {
      border-color: var(--accent);
      box-shadow: 0 0 0 2px var(--accent-soft);
    }
    .action {
      background: linear-gradient(180deg, #020617, #020617);
      border: 1px solid rgba(255,255,255,.15);
      color: var(--text);
      padding: .55rem 1rem;
      border-radius: 10px;
      cursor: pointer;
      font-size: .85rem;
    }

    .action:hover {
      border-color: var(--accent);
      box-shadow: 0 0 0 2px var(--accent-soft);
    }

    .action:active {
      transform: scale(.98);
    }
  </style>
</head>
<body>

<header>
  <h1><span>PrintsByPug</span> Pricing Calculator</h1>
  <div>Instant Quote Tool</div>
</header>

<div class="container">
  <div class="card">
    <h2>Job Inputs</h2>
    <div style="margin-bottom:1rem; display:flex; gap:.5rem; flex-wrap:wrap;">
      <button class="preset" onclick="applyPreset('PLA')">PLA</button>
      <button class="preset" onclick="applyPreset('PETG')">PETG</button>
      <button class="preset" onclick="applyPreset('ABS')">ABS</button>
    </div>
    <div class="grid">
      <label>Quantity
        <input id="qty" type="number" value="1">
      </label>
      <label>Filament Used (g)
        <input id="grams" type="number" value="430">
      </label>

      <label>Print Time (hours)
        <input id="hours" type="number" value="5">
      </label>
      <label>Print Time (minutes)
        <input id="minutes" type="number" value="0">
      </label>

      <label>Spool Price ($)
        <input id="spoolPrice" type="number" value="15">
      </label>
      <label>Spool Weight (g)
        <input id="spoolWeight" type="number" value="1000">
      </label>

      <label>Machine Rate ($/hr)
        <input id="machineRate" type="number" value="1">
      </label>
      <label>Labor Rate ($/hr)
        <input id="laborRate" type="number" value="4">
      </label>

      <label>Active Labor (minutes)
        <input id="laborMinutes" type="number" value="30">
      </label>
      <label>Profit Margin (%)
        <input id="margin" type="number" value="30">
      </label>
    </div>
  </div>

  <div class="card">
    <h2>Estimate</h2>

    <div class="estimate-row"><span>Total Print Time</span><span id="printTime"></span></div>
    <div class="estimate-row"><span>Material Cost</span><span id="material"></span></div>
    <div class="estimate-row"><span>Machine Time</span><span id="machine"></span></div>
    <div class="estimate-row"><span>Active Labor</span><span id="labor"></span></div>
    <div class="estimate-row"><span>Base Subtotal</span><span id="subtotal">$0.00</span></div>
    <div class="estimate-row"><span>Profit</span><span id="profit">$0.00</span></div>

    <div style="display:flex; gap:.5rem; margin-bottom:1rem; flex-wrap:wrap;">
      <button class="action" onclick="copyQuote()">Copy Quote</button>
      <button class="action" onclick="resetCalc()">Reset</button>
    </div>
    <div class="final">
      <div>Final Price</div>
      <span id="total">$0.00</span>
    </div>
  </div>
</div>

<footer>
  © PrintsByPug — Pricing estimates only. Final quotes may vary.
</footer>

<script>
  const inputs = document.querySelectorAll('input');
  inputs.forEach(i => i.addEventListener('input', calculate));

  function calculate() {
    // --- Read inputs ---
    const qty = +qtyEl.value || 0;
    const hours = +hoursEl.value || 0;
    const minutes = +minutesEl.value || 0;
    const grams = +gramsEl.value || 0;
    const spoolPrice = +spoolPriceEl.value || 0;
    const spoolWeight = +spoolWeightEl.value || 1;
    const machineRate = +machineRateEl.value || 0;
    const laborRate = +laborRateEl.value || 0;
    const laborMinutes = +laborMinutesEl.value || 0;
    const margin = (+marginEl.value || 0) / 100;

    // --- Calculations ---
    const totalHours = (hours + minutes / 60) * qty;
    const materialCostVal = (grams / spoolWeight) * spoolPrice * qty;
    const machineCostVal = totalHours * machineRate;
    const laborCostVal = (laborMinutes / 60) * laborRate;

    const subtotalVal = materialCostVal + machineCostVal + laborCostVal;
    const profitVal = subtotalVal * margin;
    const totalVal = subtotalVal + profitVal;

    // --- Render ---
    printTime.textContent = totalHours.toFixed(2) + ' h';
    material.textContent = `$${materialCostVal.toFixed(2)}`;
    machine.textContent = `$${machineCostVal.toFixed(2)}`;
    labor.textContent = `$${laborCostVal.toFixed(2)}`;
    subtotal.textContent = `$${subtotalVal.toFixed(2)}`;
    profit.textContent = `$${profitVal.toFixed(2)}`;
    total.textContent = `$${totalVal.toFixed(2)}`;
}

 `$${subtotal.toFixed(2)}`;
    profit.textContent = `$${profit.toFixed(2)}`;
    total.textContent = `$${total.toFixed(2)}`;
  }

  const qtyEl = document.getElementById('qty');
  const hoursEl = document.getElementById('hours');
  const minutesEl = document.getElementById('minutes');
  const gramsEl = document.getElementById('grams');
  const spoolPriceEl = document.getElementById('spoolPrice');
  const spoolWeightEl = document.getElementById('spoolWeight');
  const machineRateEl = document.getElementById('machineRate');
  const laborRateEl = document.getElementById('laborRate');
  const laborMinutesEl = document.getElementById('laborMinutes');
  const marginEl = document.getElementById('margin');

  calculate();

  function copyQuote() {
    const text = `PrintsByPug Quote
----------------------
Quantity: ${qtyEl.value}
Total Print Time: ${printTime.textContent}
Material Cost: ${material.textContent}
Machine Cost: ${machine.textContent}
Labor Cost: ${labor.textContent}
Subtotal: ${subtotal.textContent}
Profit: ${profit.textContent}
Final Price: ${total.textContent}`;

    navigator.clipboard.writeText(text);
    alert('Quote copied to clipboard');
  }

  function resetCalc() {
    document.querySelectorAll('input').forEach(i => i.value = i.defaultValue);
    calculate();
  }

  function applyPreset(type) {
    if (type === 'PLA') {
      spoolPriceEl.value = 15;
      spoolWeightEl.value = 1000;
      machineRateEl.value = 1;
    }
    if (type === 'PETG') {
      spoolPriceEl.value = 20;
      spoolWeightEl.value = 1000;
      machineRateEl.value = 1.2;
    }
    if (type === 'ABS') {
      spoolPriceEl.value = 22;
      spoolWeightEl.value = 1000;
      machineRateEl.value = 1.4;
    }
    calculate();
  }
</script>
</body>
</html>
